{"version":3,"file":"angular-material-css-vars.mjs","sources":["../../../projects/material-css-vars/src/lib/model.ts","../../../projects/material-css-vars/src/lib/default-cfg.const.ts","../../../projects/material-css-vars/src/mat-css-config-token.const.ts","../../../projects/material-css-vars/src/lib/material-css-vars.service.ts","../../../projects/material-css-vars/src/lib/material-css-vars.module.ts","../../../projects/material-css-vars/src/public-api.ts","../../../projects/material-css-vars/src/angular-material-css-vars.ts"],"sourcesContent":["export type HueValue\n  = '50'\n  | '100'\n  | '200'\n  | '300'\n  | '400'\n  | '500'\n  | '600'\n  | '700'\n  | '800'\n  | '900'\n  | 'A100'\n  | 'A200'\n  | 'A400'\n  | 'A700'\n  ;\n\nexport enum MatCssPalettePrefix {\n  Primary = '--palette-primary-',\n  Accent = '--palette-accent-',\n  Warn = '--palette-warn-',\n}\n\nexport interface MatCssHueColorMapItem {\n  hue: HueValue;\n  isLight: boolean;\n  color: {\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n    str: string;\n  };\n}\n\nexport interface MatCssHueColorContrastMapItem extends MatCssHueColorMapItem {\n  contrast: {\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n    str: string;\n  };\n}\n\nexport interface MaterialCssColorMapperEntry {\n  name: HueValue;\n  map: [number, number, number];\n}\n\nexport interface MaterialCssVariablesConfig {\n  isAutoContrast: boolean;\n  isAlternativeColorAlgorithm: boolean;\n\n  darkThemeClass: string;\n  lightThemeClass: string;\n\n  colorMap: MaterialCssColorMapperEntry[];\n  sortedHues: HueValue[];\n\n  isDarkTheme?: boolean;\n  primary?: string;\n  accent?: string;\n  warn?: string;\n}\n\nexport enum MaterialCssVariables {\n  'Primary50' = '--palette-primary-50',\n  'Primary100' = '--palette-primary-100',\n  'Primary200' = '--palette-primary-200',\n  'Primary300' = '--palette-primary-300',\n  'Primary400' = '--palette-primary-400',\n  'Primary500' = '--palette-primary-500',\n  'Primary600' = '--palette-primary-600',\n  'Primary700' = '--palette-primary-700',\n  'Primary800' = '--palette-primary-800',\n  'Primary900' = '--palette-primary-900',\n  'PrimaryA100' = '--palette-primary-A100',\n  'PrimaryA200' = '--palette-primary-A200',\n  'PrimaryA400' = '--palette-primary-A400',\n  'PrimaryA700' = '--palette-primary-A700',\n\n  'PrimaryContrast50' = '--palette-primary-contrast-50',\n  'PrimaryContrast100' = '--palette-primary-contrast-100',\n  'PrimaryContrast200' = '--palette-primary-contrast-200',\n  'PrimaryContrast300' = '--palette-primary-contrast-300',\n  'PrimaryContrast400' = '--palette-primary-contrast-400',\n  'PrimaryContrast500' = '--palette-primary-contrast-500',\n  'PrimaryContrast600' = '--palette-primary-contrast-600',\n  'PrimaryContrast700' = '--palette-primary-contrast-700',\n  'PrimaryContrast800' = '--palette-primary-contrast-800',\n  'PrimaryContrast900' = '--palette-primary-contrast-900',\n  'PrimaryContrastA100' = '--palette-primary-contrast-A100',\n  'PrimaryContrastA200' = '--palette-primary-contrast-A200',\n  'PrimaryContrastA400' = '--palette-primary-contrast-A400',\n  'PrimaryContrastA700' = '--palette-primary-contrast-A700',\n\n  // ACCENT\n  'Accent50' = '--palette-accent-50',\n  'Accent100' = '--palette-accent-100',\n  'Accent200' = '--palette-accent-200',\n  'Accent300' = '--palette-accent-300',\n  'Accent400' = '--palette-accent-400',\n  'Accent500' = '--palette-accent-500',\n  'Accent600' = '--palette-accent-600',\n  'Accent700' = '--palette-accent-700',\n  'Accent800' = '--palette-accent-800',\n  'Accent900' = '--palette-accent-900',\n  'AccentA100' = '--palette-accent-A100',\n  'AccentA200' = '--palette-accent-A200',\n  'AccentA400' = '--palette-accent-A400',\n  'AccentA700' = '--palette-accent-A700',\n  'DarkAccentText' = '--dark-accent-text',\n  'LightAccentText' = '--light-accent-text',\n\n  // WARN\n  'Warn50' = '--palette-warn-50',\n  'Warn100' = '--palette-warn-100',\n  'Warn200' = '--palette-warn-200',\n  'Warn300' = '--palette-warn-300',\n  'Warn400' = '--palette-warn-400',\n  'Warn500' = '--palette-warn-500',\n  'Warn600' = '--palette-warn-600',\n  'Warn700' = '--palette-warn-700',\n  'Warn800' = '--palette-warn-800',\n  'Warn900' = '--palette-warn-900',\n  'WarnA100' = '--palette-warn-A100',\n  'WarnA200' = '--palette-warn-A200',\n  'WarnA400' = '--palette-warn-A400',\n  'WarnA700' = '--palette-warn-A700',\n  'DarkWarnText' = '--dark-warn-text',\n  'LightWarnText' = '--light-warn-text',\n\n  // BACKGROUND\n  'BackgroundStatusBar' = '--palette-background-status-bar',\n  'BackgroundAppBar' = '--palette-background-app-bar',\n  'BackgroundBackground' = '--palette-background-background',\n  'BackgroundHover' = '--palette-background-hover',\n  'BackgroundHoverAlpha' = '--palette-background-hover-alpha',\n  'BackgroundCard' = '--palette-background-card',\n  'BackgroundDialog' = '--palette-background-dialog',\n  'BackgroundDisabledButton' = '--palette-background-disabled-button',\n  'BackgroundDisabledButtonAlpha' = '--palette-background-disabled-button-alpha',\n  'BackgroundRaisedButton' = '--palette-background-raised-button',\n  'BackgroundFocusedButton' = '--palette-background-focused-button',\n  'BackgroundFocusedButtonAlpha' = '--palette-background-focused-button-alpha',\n  'BackgroundSelectedButton' = '--palette-background-selected-button',\n  'BackgroundSelectedDisabledButton' = '--palette-background-selected-disabled-button',\n  'BackgroundDisabledButtonToggle' = '--palette-background-disabled-button-toggle',\n  'BackgroundUnselectedChip' = '--palette-background-unselected-chip',\n  'BackgroundDisabledListOption' = '--palette-background-disabled-list-option',\n\n  // FOREGROUND\n  'ForegroundBase' = '--palette-foreground-base',\n  'ForegroundDivider' = '--palette-foreground-divider',\n  'ForegroundDividerAlpha' = '--palette-foreground-divider-alpha',\n  'ForegroundDividers' = '--palette-foreground-dividers',\n  'ForegroundDividersAlpha' = '--palette-foreground-dividers-alpha',\n  'ForegroundDisabled' = '--palette-foreground-disabled',\n  'ForegroundDisabledAlpha' = '--palette-foreground-disabled-alpha',\n  'ForegroundDisabledButton' = '--palette-foreground-disabled-button',\n  'ForegroundDisabledButtonAlpha' = '--palette-foreground-disabled-button-alpha',\n  'ForegroundDisabledText' = '--palette-foreground-disabled-text',\n  'ForegroundDisabledTextAlpha' = '--palette-foreground-disabled-text-alpha',\n  'ForegroundElevation' = '--palette-foreground-elevation',\n  'ForegroundHintText' = '--palette-foreground-hint-text',\n  'ForegroundHintTextAlpha' = '--palette-foreground-hint-text-alpha',\n  'ForegroundSecondaryText' = '--palette-foreground-secondary-text',\n  'ForegroundSecondaryTextAlpha' = '--palette-foreground-secondary-text-alpha',\n  'ForegroundIcon' = '--palette-foreground-icon',\n  'ForegroundIconAlpha' = '--palette-foreground-icon-alpha',\n  'ForegroundIcons' = '--palette-foreground-icons',\n  'ForegroundIconsAlpha' = '--palette-foreground-icons-alpha',\n  'ForegroundText' = '--palette-foreground-text',\n  'ForegroundTextAlpha' = '--palette-foreground-text-alpha',\n  'ForegroundSliderMin' = '--palette-foreground-slider-min',\n  'ForegroundSliderMinAlpha' = '--palette-foreground-slider-min-alpha',\n  'ForegroundSliderOff' = '--palette-foreground-slider-off',\n  'ForegroundSliderOffAlpha' = '--palette-foreground-slider-off-alpha',\n  'ForegroundSliderOffActive' = '--palette-foreground-slider-off-active',\n  'ForegroundSliderOffActiveAlpha' = '--palette-foreground-slider-off-active-alpha',\n\n  // BACKGROUND DARK\n  'BackgroundStatusBarDark' = '--palette-background-status-bar-dark',\n  'BackgroundAppBarDark' = '--palette-background-app-bar-dark',\n  'BackgroundBackgroundDark' = '--palette-background-background-dark',\n  'BackgroundHoverDark' = '--palette-background-hover-dark',\n  'BackgroundHoverDarkAlpha' = '--palette-background-hover-dark-alpha',\n  'BackgroundCardDark' = '--palette-background-card-dark',\n  'BackgroundDialogDark' = '--palette-background-dialog-dark',\n  'BackgroundDisabledButtonDark' = '--palette-background-disabled-button-dark',\n  'BackgroundDisabledButtonDarkAlpha' = '--palette-background-disabled-button-dark-alpha',\n  'BackgroundRaisedButtonDark' = '--palette-background-raised-button-dark',\n  'BackgroundFocusedButtonDark' = '--palette-background-focused-button-dark',\n  'BackgroundFocusedButtonDarkAlpha' = '--palette-background-focused-button-dark-alpha',\n  'BackgroundSelectedButtonDark' = '--palette-background-selected-button-dark',\n  'BackgroundSelectedDisabledButtonDark' = '--palette-background-selected-disabled-button-dark',\n  'BackgroundDisabledButtonToggleDark' = '--palette-background-disabled-button-toggle-dark',\n  'BackgroundUnselectedChipDark' = '--palette-background-unselected-chip-dark',\n  'BackgroundDisabledListOptionDark' = '--palette-background-disabled-list-option-dark',\n\n  // FOREGROUND DARK\n  'ForegroundBaseDark' = '--palette-foreground-base-dark',\n  'ForegroundDividerDark' = '--palette-foreground-divider-dark',\n  'ForegroundDividerDarkAlpha' = '--palette-foreground-divider-dark-alpha',\n  'ForegroundDividersDark' = '--palette-foreground-dividers-dark',\n  'ForegroundDividersDarkAlpha' = '--palette-foreground-dividers-dark-alpha',\n  'ForegroundDisabledDark' = '--palette-foreground-disabled-dark',\n  'ForegroundDisabledDarkAlpha' = '--palette-foreground-disabled-dark-alpha',\n  'ForegroundDisabledButtonDark' = '--palette-foreground-disabled-button-dark',\n  'ForegroundDisabledButtonDarkAlpha' = '--palette-foreground-disabled-button-dark-alpha',\n  'ForegroundDisabledTextDark' = '--palette-foreground-disabled-text-dark',\n  'ForegroundDisabledTextDarkAlpha' = '--palette-foreground-disabled-text-dark-alpha',\n  'ForegroundElevationDark' = '--palette-foreground-elevation-dark',\n  'ForegroundHintTextDark' = '--palette-foreground-hint-text-dark',\n  'ForegroundHintTextDarkAlpha' = '--palette-foreground-hint-text-dark-alpha',\n  'ForegroundSecondaryTextDark' = '--palette-foreground-secondary-text-dark',\n  'ForegroundSecondaryTextAlphaDark' = '--palette-foreground-secondary-text-alpha-dark',\n  'ForegroundIconDark' = '--palette-foreground-icon-dark',\n  'ForegroundIconDarkAlpha' = '--palette-foreground-icon-dark-alpha',\n  'ForegroundIconsDark' = '--palette-foreground-icons-dark',\n  'ForegroundIconsDarkAlpha' = '--palette-foreground-icons-dark-alpha',\n  'ForegroundTextDark' = '--palette-foreground-text-dark',\n  'ForegroundTextDarkAlpha' = '--palette-foreground-text-dark-alpha',\n  'ForegroundSliderMinDark' = '--palette-foreground-slider-min-dark',\n  'ForegroundSliderMinDarkAlpha' = '--palette-foreground-slider-min-dark-alpha',\n  'ForegroundSliderOffDark' = '--palette-foreground-slider-off-dark',\n  'ForegroundSliderOffDarkAlpha' = '--palette-foreground-slider-off-dark-alpha',\n  'ForegroundSliderOffActiveDark' = '--palette-foreground-slider-off-active-dark',\n  'ForegroundSliderOffActiveDarkAlpha' = '--palette-foreground-slider-off-active-dark-alpha',\n}\n","import {MaterialCssVariablesConfig} from './model';\n\nexport const DEFAULT_MAT_CSS_CFG: MaterialCssVariablesConfig = {\n  isAutoContrast: true,\n  isAlternativeColorAlgorithm: false,\n  darkThemeClass: 'isDarkTheme',\n  lightThemeClass: 'isLightTheme',\n  colorMap: [\n    {name: '50', map: [52, 0, 0]},\n    {name: '100', map: [37, 0, 0]},\n    {name: '200', map: [26, 0, 0]},\n    {name: '300', map: [12, 0, 0]},\n    {name: '400', map: [6, 0, 0]},\n    {name: '500', map: [0, 0, 0]},\n    {name: '600', map: [0, 6, 0]},\n    {name: '700', map: [0, 12, 0]},\n    {name: '800', map: [0, 18, 0]},\n    {name: '900', map: [0, 24, 0]},\n    {name: 'A100', map: [50, 0, 30]},\n    {name: 'A200', map: [30, 0, 30]},\n    {name: 'A400', map: [10, 0, 15]},\n    {name: 'A700', map: [5, 0, 5]},\n  ],\n  sortedHues: [\n    '50',\n    '100',\n    '200',\n    '300',\n    '400',\n    '500',\n    '600',\n    '700',\n    '800',\n    '900',\n  ]\n};\n","import {InjectionToken} from '@angular/core';\nimport {MaterialCssVariablesConfig} from './lib/model';\n\nexport const MATERIAL_CSS_VARS_CFG = new InjectionToken<MaterialCssVariablesConfig>('Mat Css Config');\n","import {Inject, Injectable, Renderer2, RendererFactory2, RendererStyleFlags2} from '@angular/core';\nimport {Numberify, RGBA, TinyColor} from '@ctrl/tinycolor';\nimport {\n  HueValue,\n  MatCssHueColorContrastMapItem,\n  MatCssHueColorMapItem,\n  MatCssPalettePrefix,\n  MaterialCssVariables,\n  MaterialCssVariablesConfig\n} from './model';\nimport {DOCUMENT} from '@angular/common';\nimport {DEFAULT_MAT_CSS_CFG} from './default-cfg.const';\nimport {MATERIAL_CSS_VARS_CFG} from '../mat-css-config-token.const';\n\ninterface CssVariable {\n  name: string;\n  val: string;\n}\n\n// @see: https://github.com/angular/angular/issues/20351\n/** @dynamic */\n@Injectable({\n  providedIn: 'root'\n})\nexport class MaterialCssVarsService {\n  private static CONTRAST_PREFIX = 'contrast-';\n  private static DARK_TEXT_VAR = '--dark-primary-text';\n  private static LIGHT_TEXT_VAR = '--light-primary-text';\n\n  private renderer: Renderer2;\n  private ROOT: HTMLElement;\n\n  // This should be readonly from the outside\n  cfg: MaterialCssVariablesConfig;\n  primary: string;\n  accent: string;\n  warn: string;\n  isDarkTheme: boolean;\n  contrastColorThresholdPrimary: HueValue = '400';\n  contrastColorThresholdAccent: HueValue = '400';\n  contrastColorThresholdWarn: HueValue = '400';\n  isAutoContrast = false;\n\n  constructor(\n    rendererFactory: RendererFactory2,\n    @Inject(DOCUMENT) private document: Document,\n    @Inject(MATERIAL_CSS_VARS_CFG) cfg: MaterialCssVariablesConfig,\n  ) {\n    this.renderer = rendererFactory.createRenderer(null, null);\n    this.ROOT = this.document.documentElement;\n\n    this.cfg = {\n      ...DEFAULT_MAT_CSS_CFG,\n      ...cfg,\n    };\n    this.isAutoContrast = this.cfg.isAutoContrast;\n\n    if (this.cfg.isDarkTheme) {\n      this.setDarkTheme(this.cfg.isDarkTheme);\n    }\n    if (this.cfg.primary) {\n      this.setPrimaryColor(this.cfg.primary);\n    }\n    if (this.cfg.accent) {\n      this.setAccentColor(this.cfg.accent);\n    }\n    if (this.cfg.warn) {\n      this.setWarnColor(this.cfg.warn);\n    }\n  }\n\n  setPrimaryColor(hex: string) {\n    this.primary = hex;\n    const varPrefix = MatCssPalettePrefix.Primary;\n    const stylePrimary = this._computePaletteColors(varPrefix, this.primary);\n    this._setStyle(stylePrimary);\n\n    if (this.isAutoContrast) {\n      this._recalculateAndSetContrastColor(varPrefix);\n    }\n  }\n\n  setAccentColor(hex: string) {\n    this.accent = hex;\n    const varPrefix = MatCssPalettePrefix.Accent;\n    const styleAccent = this._computePaletteColors(varPrefix, this.accent);\n    this._setStyle(styleAccent);\n\n    if (this.isAutoContrast) {\n      this._recalculateAndSetContrastColor(varPrefix);\n    }\n  }\n\n  setWarnColor(hex: string) {\n    this.warn = hex;\n    const varPrefix = MatCssPalettePrefix.Warn;\n    const styleWarn = this._computePaletteColors(varPrefix, this.warn);\n    this._setStyle(styleWarn);\n\n    if (this.isAutoContrast) {\n      this._recalculateAndSetContrastColor(varPrefix);\n    }\n  }\n\n  setVariable(cssVarName: MaterialCssVariables, value: string) {\n    this._setStyle([{\n      name: cssVarName,\n      val: value,\n    }]);\n  }\n\n  setDarkTheme(isDark: boolean) {\n    if (isDark) {\n      this.document.body.classList.remove(this.cfg.lightThemeClass);\n      this.document.body.classList.add(this.cfg.darkThemeClass);\n    } else {\n      this.document.body.classList.remove(this.cfg.darkThemeClass);\n      this.document.body.classList.add(this.cfg.lightThemeClass);\n    }\n    this.isDarkTheme = isDark;\n  }\n\n  setAutoContrastEnabled(val: boolean) {\n    this.isAutoContrast = val;\n    if (val) {\n      this._recalculateAndSetContrastColor(MatCssPalettePrefix.Primary);\n      this._recalculateAndSetContrastColor(MatCssPalettePrefix.Accent);\n      this._recalculateAndSetContrastColor(MatCssPalettePrefix.Warn);\n    } else {\n      this.setContrastColorThresholdPrimary(this.contrastColorThresholdPrimary);\n      this.setContrastColorThresholdAccent(this.contrastColorThresholdAccent);\n      this.setContrastColorThresholdWarn(this.contrastColorThresholdWarn);\n    }\n  }\n\n  setContrastColorThresholdPrimary(threshold: HueValue) {\n    this.contrastColorThresholdPrimary = threshold;\n    this.setContrastColorThreshold(threshold, MatCssPalettePrefix.Primary);\n  }\n\n  setContrastColorThresholdAccent(threshold: HueValue) {\n    this.contrastColorThresholdAccent = threshold;\n    this.setContrastColorThreshold(threshold, MatCssPalettePrefix.Accent);\n  }\n\n  setContrastColorThresholdWarn(threshold: HueValue) {\n    this.contrastColorThresholdWarn = threshold;\n    this.setContrastColorThreshold(threshold, MatCssPalettePrefix.Warn);\n  }\n\n  setContrastColorThreshold(threshold: HueValue, palettePrefix: MatCssPalettePrefix) {\n    let color = MaterialCssVarsService.DARK_TEXT_VAR;\n    const updates = this.cfg.sortedHues.map((hue) => {\n      if (hue === threshold) {\n        color = MaterialCssVarsService.LIGHT_TEXT_VAR;\n      }\n      return {\n        val: this._getCssVarValue(color),\n        name: `${palettePrefix + MaterialCssVarsService.CONTRAST_PREFIX}${hue}`,\n      };\n    });\n    this._setStyle(updates);\n  }\n\n  /**\n   * Generate palette color based on traditional values\n   */\n  setAlternativeColorAlgorithm(traditional: boolean): void {\n    this.cfg.isAlternativeColorAlgorithm = traditional;\n    this.setPrimaryColor(this.primary);\n    this.setAccentColor(this.accent);\n    this.setWarnColor(this.warn);\n  }\n\n  /** @deprecated use setContrastColorThresholdPrimary instead */\n  changeContrastColorThresholdPrimary(threshold: HueValue) {\n    this.setContrastColorThresholdPrimary(threshold);\n  }\n\n  /** @deprecated use setContrastColorThresholdAccent instead */\n  changeContrastColorThresholdAccent(threshold: HueValue) {\n    this.setContrastColorThresholdAccent(threshold);\n  }\n\n  /** @deprecated use setContrastColorThresholdWarn instead */\n  changeContrastColorThresholdWarn(threshold: HueValue) {\n    this.setContrastColorThresholdWarn(threshold);\n  }\n\n  /** @deprecated use setContrastColorThreshold instead */\n  changeContrastColorThreshold(threshold: HueValue, palettePrefix: MatCssPalettePrefix) {\n    this.setContrastColorThreshold(threshold, palettePrefix);\n  }\n\n  getPaletteForColor(hex: string): MatCssHueColorMapItem[] {\n    if (this.cfg.isAlternativeColorAlgorithm) {\n      return this.getTraditionalPaletteForColor(hex);\n    } else {\n      return this.getConstantinPaletteForColor(hex);\n    }\n  }\n\n  private getTraditionalPaletteForColor(hex: string): MatCssHueColorMapItem[] {\n    return this.cfg.colorMap.map(item => {\n      const mappedColor = new TinyColor(hex)\n        .lighten(item.map[0])\n        .darken(item.map[1])\n        .saturate(item.map[2]);\n      const c = new TinyColor(mappedColor);\n      return {\n        hue: item.name,\n        isLight: c.isLight(),\n        color: {\n          ...c.toRgb(),\n          str: `rgb(${c.toRgb().r},${c.toRgb().g},${c.toRgb().b})`\n        }\n      };\n    });\n  }\n\n  private getConstantinPaletteForColor(hex: string): MatCssHueColorMapItem[] {\n    return this.cfg.colorMap.map((item) => {\n      const c = this.computePalletTriad(hex, item.name);\n      return {\n        hue: item.name,\n        isLight: c.isLight,\n        color: {\n          ...c.rgb,\n          str: `rgb(${c.rgb.r},${c.rgb.g},${c.rgb.b})`\n        }\n      };\n    });\n  }\n\n  getPaletteWithContrastForColor(hex: string): MatCssHueColorContrastMapItem[] {\n    const lightText = this._getCssVarValue(MaterialCssVarsService.LIGHT_TEXT_VAR);\n    const darkText = this._getCssVarValue(MaterialCssVarsService.DARK_TEXT_VAR);\n    const palette = this.getPaletteForColor(hex);\n\n    // TODO handle non auto case\n    return palette.map((item) => {\n      const contrastStr = item.isLight\n        ? lightText\n        : darkText;\n\n      const sLight = contrastStr.split(',').map(v => +v);\n      const cco = {r: sLight[0], g: sLight[1], b: sLight[2], a: 1};\n      return {\n        ...item,\n        contrast: {\n          ...cco,\n          str: `${cco.r},${cco.g},${cco.b}`\n        },\n      };\n    });\n  }\n\n  private _computePaletteColors(prefix: MatCssPalettePrefix, hex: string): CssVariable[] {\n    return this.getPaletteForColor(hex).map(item => {\n      const c = item.color;\n      return {\n        name: `${prefix}${item.hue}`,\n        val: `${c.r}, ${c.g}, ${c.b}`\n      };\n    });\n  }\n\n  private _recalculateAndSetContrastColor(palettePrefix: MatCssPalettePrefix) {\n    const updates = this._calculateContrastColorsForCurrentValues(palettePrefix)\n      .map(({contrastColorVar, hue}) => {\n        return {\n          val: this._getCssVarValue(contrastColorVar),\n          name: `${palettePrefix + MaterialCssVarsService.CONTRAST_PREFIX}${hue}`,\n        };\n      });\n    this._setStyle(updates);\n  }\n\n  private _calculateContrastColorsForCurrentValues(palettePrefix: MatCssPalettePrefix):\n    { contrastColorVar: string, hue: HueValue }[] {\n    return this.cfg.sortedHues.map((hue) => {\n      const hueVarVal = this._getCssVarValue(`${palettePrefix}${hue}`);\n      const c = new TinyColor(`rgb(${hueVarVal})`);\n      const contrastColorVar = c.isDark()\n        ? MaterialCssVarsService.LIGHT_TEXT_VAR\n        : MaterialCssVarsService.DARK_TEXT_VAR;\n      return {\n        contrastColorVar,\n        hue,\n      };\n    });\n  }\n\n  private _setStyle(vars: CssVariable[]) {\n    vars.forEach(s => {\n      this.renderer.setStyle(this.ROOT, s.name, s.val, RendererStyleFlags2.DashCase);\n    });\n  }\n\n  private _getCssVarValue(v: string): string {\n    return getComputedStyle(this.ROOT).getPropertyValue(v);\n  }\n\n  /**\n   * Compute pallet colors based on a Triad (Constantin)\n   * see: https://github.com/mbitson/mcg\n   */\n  private computePalletTriad(hex: string, hue: HueValue) {\n    const baseLight = new TinyColor('#ffffff');\n    const baseDark = this.multiply(new TinyColor(hex).toRgb(), new TinyColor(hex).toRgb());\n    const baseTriad = new TinyColor(hex).tetrad();\n    let color: { rgb: Numberify<RGBA>, isLight: boolean };\n\n    switch (hue) {\n      case '50':\n        color = this.getColorObject(baseLight.mix(hex, 12));\n        break;\n      case '100':\n        color = this.getColorObject(baseLight.mix(hex, 30));\n        break;\n      case '200':\n        color = this.getColorObject(baseLight.mix(hex, 50));\n        break;\n      case '300':\n        color = this.getColorObject(baseLight.mix(hex, 70));\n        break;\n      case '400':\n        color = this.getColorObject(baseLight.mix(hex, 85));\n        break;\n      case '500':\n        color = this.getColorObject(baseLight.mix(hex, 100));\n        break;\n      case '600':\n        color = this.getColorObject(baseDark.mix(hex, 87));\n        break;\n      case '700':\n        color = this.getColorObject(baseDark.mix(hex, 70));\n        break;\n      case '800':\n        color = this.getColorObject(baseDark.mix(hex, 54));\n        break;\n      case '900':\n        color = this.getColorObject(baseDark.mix(hex, 25));\n        break;\n      case 'A100':\n        color = this.getColorObject(baseDark.mix(baseTriad[4], 15).saturate(80).lighten(65));\n        break;\n      case 'A200':\n        color = this.getColorObject(baseDark.mix(baseTriad[4], 15).saturate(80).lighten(55));\n        break;\n      case 'A400':\n        color = this.getColorObject(baseDark.mix(baseTriad[4], 15).saturate(100).lighten(45));\n        break;\n      case 'A700':\n        color = this.getColorObject(baseDark.mix(baseTriad[4], 15).saturate(100).lighten(40));\n        break;\n      default:\n        break;\n    }\n    return color;\n  }\n\n  private multiply(rgb1: Numberify<RGBA>, rgb2: Numberify<RGBA>): TinyColor {\n    rgb1.b = Math.floor(rgb1.b * rgb2.b / 255);\n    rgb1.g = Math.floor(rgb1.g * rgb2.g / 255);\n    rgb1.r = Math.floor(rgb1.r * rgb2.r / 255);\n    return new TinyColor('rgb ' + rgb1.r + ' ' + rgb1.g + ' ' + rgb1.b);\n  }\n\n  private getColorObject(value: TinyColor) {\n    const c = new TinyColor(value);\n    return {rgb: c.toRgb(), isLight: c.isLight()};\n  }\n\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MaterialCssVariablesConfig} from './model';\nimport {MATERIAL_CSS_VARS_CFG} from '../mat-css-config-token.const';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\nexport class MaterialCssVarsModule {\n  static forRoot(config?: Partial<MaterialCssVariablesConfig>): ModuleWithProviders<MaterialCssVarsModule> {\n    return {\n      ngModule: MaterialCssVarsModule,\n      providers: [{provide: MATERIAL_CSS_VARS_CFG, useValue: config}]\n    };\n  }\n}\n","/*\n * Public API Surface of material-css-vars\n */\n\nexport * from './lib/material-css-vars.service';\nexport * from './lib/material-css-vars.module';\nexport * from './lib/model';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}